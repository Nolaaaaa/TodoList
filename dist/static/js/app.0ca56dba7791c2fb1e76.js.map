{"version":3,"sources":["webpack:///src/components/Todo.vue","webpack:///./src/components/Todo.vue?8919","webpack:///./src/components/Todo.vue","webpack:///./src/components/SignUpOrLogin.vue?4a35","webpack:///src/App.vue","webpack:///./src/components/SignUpOrLogin.vue","webpack:///src/components/SignUpOrLogin.vue","webpack:///./src/App.vue?e273","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["Todo","name","props","data","newTodo","todoList","checked","editIndex","mounted","_this","this","$refs","focus","window","onbeforeunload","dataString","stringify_default","localStorage","setItem","oldDataString","getItem","oldData","JSON","parse","currentUser","av_min_default","a","Query","find","then","todos","avAllTodos","id","attributes","content","error","console","methods","updateAVTodo","avTodos","Object","createWithoutData","set","save","log","saveAVTodo","_this2","avtodos","extend","acl","ACL","setPublicReadAccess","setWriteAccess","User","current","setACL","todo","saveOrUpdateTodo","addTodo","title","push","createdAt","Date","removeTodo","index","indexOf","splice","editContent","todoTitle","logout","$emit","components_Todo","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","_v","ref","attrs","placeholder","nativeOn","keyup","$event","_k","keyCode","key","model","value","callback","$$v","expression","_l","$set","_s","staticRenderFns","components_SignUpOrLogin","directives","rawName","type","domProps","_q","actionType","change","formData","input","target","composing","signUp","_e","login","App","components","__webpack_require__","normalizeComponent","ssrContext","SignUpOrLogin","SignUpOrLogin_normalizeComponent","username","password","comfirmPassword","created","getCurrentUser","resource","user","setUsername","setPassword","loggedInUser","logIn","logOut","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","init","appId","appKey","vue_esm","use","element_ui_common_default","config","productionTip","el","template"],"mappings":"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","file":"static/js/app.0ca56dba7791c2fb1e76.js","sourcesContent":["<template>\n<div>\n    <section class=\"todo\" >\n        <div>\n          <!-- {{formData.username}}  -->\n          <button  @click=\"logout\"> 登出 </button>\n        </div>\n        <h1>TodoList</h1>\n        <div class=\"newTask\">\n          <el-input ref = 'input' v-model=\"newTodo\" placeholder=\"Add new Todo\"\n          @keyup.enter.native=\"addTodo\"></el-input>\n        </div>\n        <ol class=\"todos\">\n          <li v-for=\"(todo, index) in todoList\" :key=\"todo.id\">\n            <div>\n              <el-checkbox v-model=\"todo.checked\">{{ todo.title }}\n              </el-checkbox>\n              <i class=\"el-icon-edit\" @click=\"editContent(index)\"></i>\n            </div>\n            <i class=\"el-icon-circle-close\" @click=\"removeTodo(todo)\"></i>\n          </li>\n        </ol>\n    </section>\n  </div>\n</template>\n\n<script>\nimport AV from 'leancloud-storage'\n\nexport default {\n  name: 'Todo',\n  props : ['currentUser'],\n  data() {\n    return {\n      newTodo: '',\n      todoList: [],\n      checked: false,\n      editIndex: null,\n\n    }\n  },\n  mounted() {\n    this.$refs['input'].focus()  //光标\n    // 页面刷新后依然保留数据\n    window.onbeforeunload = ()=>{       //页面刷新时调用\n      let dataString = JSON.stringify(this.todoList)   //将todoList对象转化为JSON字符串 dataString\n      window.localStorage.setItem('myTodos', dataString) //通过window.localStorage添加dataString数据到\"myTodos\"中\n    }\n    let oldDataString = window.localStorage.getItem('myTodos')  //通过window.localStorage读取\"myTodos\"中的数据\n    let oldData = JSON.parse(oldDataString)  //将读取到的JSON字符串解析\n    this.todoList = oldData || []    //把数据赋值给todoList对象\n\n    //批量从云端获取AllTodos\n    if(this.currentUser){\n      var query = new AV.Query('AllTodos')\n      query.find()\n      .then( (todos) => {\n        // console.log(todos) //打印出的是在云端的数组\n        let avAllTodos = todos[0]\n        let id = avAllTodos.id   //找到todos数组的第一个对象的id\n        this.todoList = JSON.parse(avAllTodos.attributes.content) //解析attributes.content中的JSON字符串\n        this.todoList.id = id  //把获取到的id给todoList.id\n      }, function(error) {\n        console.error(error)\n      })\n    }\n  },\n  methods: {\n    updateAVTodo(){\n      let dataString = JSON.stringify(this.todoList)\n      let avTodos = AV.Object.createWithoutData('AllTodos', this.todoList.id)\n      avTodos.set('content', dataString)\n      avTodos.save().then(()=>{\n        console.log('更新成功')\n      })\n    },\n    saveAVTodo() {\n      // 如果还没有对象，就新建一个对象到Lean，只会存在一个对象\n      // 单用户权限设置\n      // 新建一个对象\n      let dataString = JSON.stringify(this.todoList)\n      var AVTodos = AV.Object.extend('AllTodos')\n      var avtodos = new AVTodos()\n      avtodos.set('content', dataString)\n      // 新建一个 ACL 实例\n      var acl = new AV.ACL();\n      acl.setPublicReadAccess(true);  //能读\n      acl.setWriteAccess(AV.User.current(),true);  //能写\n      // 将 ACL 实例赋予对象 设置访问控制\n      avtodos.setACL(acl)\n      //保存到云端\n      avtodos.save().then((todo) => {\n        console.log('保存成功')\n        this.todoList.id = todo.id\n      }, function (error) {\n        console.log(error)\n      })\n    },\n    saveOrUpdateTodo() {\n      if(this.todoList.id){\n        this.updateAVTodo()\n      }else{\n        this.saveAVTodo()\n      }\n    },\n    addTodo() {\n      // id 存不存在 这个列表中\n      // 如果不存在 就push\n      // 如果存在 就 edit\n      if(!this.newTodo) return\n      if(this.editIndex || this.editIndex === 0) {\n        this.todoList[this.editIndex].title = this.newTodo\n        console.log(this.newTodo)\n        this.newTodo = ''\n      }else{\n        console.log(this.newTodo)\n        this.todoList.push({\n          title: this.newTodo,\n          createdAt: new Date()\n        })\n        this.newTodo = ''\n      }\n      this.saveOrUpdateTodo()\n    },\n    removeTodo(todo) {\n      let index = this.todoList.indexOf(todo) // Array.prototype.indexOf ES 5 新加的 API\n      this.todoList.splice(index,1)\n      this.saveOrUpdateTodo()\n    },\n    editContent(index){\n      this.editIndex = index\n      let todoTitle = this.todoList[index].title\n      this.newTodo = todoTitle\n      this.$refs['input'].focus()    //输入框自动获取焦点\n    },\n    logout() {   //注册 _user\n      this.$emit(\"logout\")\n    },\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.todo {\n  margin-top: 60px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  .newTask {\n    width: 400px;\n    @media (max-width: 500px) {width: 320px;}\n    @media (max-width: 400px) {width: 240px;}\n  }\n  .todos {\n    width: 400px;\n    @media (max-width: 500px) {width: 320px;}\n    @media (max-width: 400px) {width: 240px;}\n    display: flex;\n    justify-content: flex-start;\n    flex-direction: column;\n    li {\n      display: flex;\n      justify-content: space-between; //左右排布\n      align-items: center;   //x轴居中对齐\n      margin: 4px 0;\n      .el-icon-edit:before{\n        margin: 0 4px;\n        color: #2d83da;\n      }\n      .el-icon-circle-close {   //删除按钮的样式\n        color: rgb(250, 42, 15)\n      }\n      .el-checkbox__input.is-checked+.el-checkbox__label{ //更改已完成的字体的删除仙女及颜色\n        color: #dcdfe6;\n        text-decoration:line-through;\n      }\n      .el-checkbox__input.is-checked .el-checkbox__inner, .el-checkbox__input.is-indeterminate .el-checkbox__inner {  //已完成的框框的颜色\n        background-color: #dcdfe6;\n        border-color: #dcdfe6;\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Todo.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',{staticClass:\"todo\"},[_c('div',[_c('button',{on:{\"click\":_vm.logout}},[_vm._v(\" 登出 \")])]),_vm._v(\" \"),_c('h1',[_vm._v(\"TodoList\")]),_vm._v(\" \"),_c('div',{staticClass:\"newTask\"},[_c('el-input',{ref:\"input\",attrs:{\"placeholder\":\"Add new Todo\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.addTodo($event)}},model:{value:(_vm.newTodo),callback:function ($$v) {_vm.newTodo=$$v},expression:\"newTodo\"}})],1),_vm._v(\" \"),_c('ol',{staticClass:\"todos\"},_vm._l((_vm.todoList),function(todo,index){return _c('li',{key:todo.id},[_c('div',[_c('el-checkbox',{model:{value:(todo.checked),callback:function ($$v) {_vm.$set(todo, \"checked\", $$v)},expression:\"todo.checked\"}},[_vm._v(_vm._s(todo.title)+\"\\n              \")]),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-edit\",on:{\"click\":function($event){_vm.editContent(index)}}})],1),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-circle-close\",on:{\"click\":function($event){_vm.removeTodo(todo)}}})])}))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-35e570e5\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Todo.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-35e570e5\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Todo.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Todo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Todo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-35e570e5\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Todo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Todo.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"ignUpOrLogin\"},[_c('div',[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.actionType),expression:\"actionType\"}],attrs:{\"type\":\"radio\",\"name\":\"type\",\"value\":\"signUp\"},domProps:{\"checked\":_vm._q(_vm.actionType,\"signUp\")},on:{\"change\":function($event){_vm.actionType=\"signUp\"}}}),_vm._v(\"注册\")]),_vm._v(\" \"),_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.actionType),expression:\"actionType\"}],attrs:{\"type\":\"radio\",\"name\":\"type\",\"value\":\"login\"},domProps:{\"checked\":_vm._q(_vm.actionType,\"login\")},on:{\"change\":function($event){_vm.actionType=\"login\"}}}),_vm._v(\"登录\")])]),_vm._v(\" \"),(_vm.actionType == 'signUp')?_c('div',{staticClass:\"signUp\"},[_c('div',{staticClass:\"formRow\"},[_vm._v(\" \\n        用户名\"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.username),expression:\"formData.username\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.formData.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"username\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"formRow\"},[_vm._v(\"\\n        密码\"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.password),expression:\"formData.password\"}],attrs:{\"type\":\"password\"},domProps:{\"value\":(_vm.formData.password)},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.signUp($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"password\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"formActions\"},[_c('button',{attrs:{\"value\":\"\"},on:{\"click\":_vm.signUp}},[_vm._v(\"注册\")])])]):_vm._e(),_vm._v(\" \"),(_vm.actionType == 'login')?_c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"formRow\"},[_vm._v(\"\\n        用户名\"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.username),expression:\"formData.username\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.formData.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"username\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"formRow\"},[_vm._v(\"\\n        密码\"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.password),expression:\"formData.password\"}],attrs:{\"type\":\"password\"},domProps:{\"value\":(_vm.formData.password)},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"password\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"formActions\"},[_c('button',{attrs:{\"value\":\"\"},on:{\"click\":_vm.login}},[_vm._v(\"登录\")])])]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cd4fdfbc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/SignUpOrLogin.vue\n// module id = null\n// module chunks = ","<template>\n    <div id=\"app\">\n        <!-- app vue 算是一个总的模版\n        它里面有 todo 和 SignUpOrLogin 模块\n        SignUpOrLogin 是一个包括 登录 和 注册的模块 代码不是很多就不需要拆\n        todo 就是一个展示用户 todo 的模块\n        一共两个模块即可 -->\n        <SignUpOrLogin v-if=\"!currentUser\" @signUp=\"signUp\" @login=\"login\"/>\n        <Todo v-else @logout=\"logout\" :currentUser=\"currentUser\"/>\n    </div>\n</template>\n<script>\nimport AV from 'leancloud-storage'\nimport Todo from './components/Todo'\nimport SignUpOrLogin from './components/SignUpOrLogin'\nexport default {\n    name: 'App',\n    components: {\n        Todo,\n        SignUpOrLogin,\n    },\n    data(){\n        return{\n            currentUser: {}\n        }\n    },\n    created(){\n        //保存用户登录状态\n        this.currentUser = this.getCurrentUser()\n    },\n    methods: {\n        getCurrentUser() {\n            //检查用户是否登录\n            let current = AV.User.current()\n            if(current) {\n                let {id,createdAt,attributes:{username}} = current\n                return {id,username,createdAt}\n            }\n        },\n        signUp(resource) {   //注册 _user\n            var user = new AV.User();\n            user.setUsername(resource.username); // 设置用户名\n            user.setPassword(resource.password); // 设置密码\n            user.signUp()\n            .then( (loggedInUser)=>{   //箭头函数方便使用this\n                // console.log(loggedInUser)\n                console.log('注册成功')\n                this.currentUser = this.getCurrentUser()  //把获取到的用户信息给loggedInUser\n            },  (error)=>{\n                console.log(error)\n            });\n        },\n        login(resource) {\n            AV.User.logIn(resource.username, resource.password)\n            .then((loggedInUser) => {\n                // console.log(loggedInUser)\n                this.currentUser = this.getCurrentUser()\n            }, function (error) {\n                console.log(error)\n            });\n        },\n        logout() {\n            AV.User.logOut()\n            // 现在的 currentUser 是 null 了\n            this.currentUser = null\n        }\n\n    }\n}\n</script>\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SignUpOrLogin.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SignUpOrLogin.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cd4fdfbc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SignUpOrLogin.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/SignUpOrLogin.vue\n// module id = null\n// module chunks = ","<template>\n    <section class=\"ignUpOrLogin\">\n      <div>\n        <label><input type=\"radio\" name=\"type\" value=\"signUp\" \n          v-model=\"actionType\">注册</label>\n        <label><input type=\"radio\" name=\"type\" value=\"login\" \n          v-model=\"actionType\">登录</label>\n          <!-- <el-button  value=\"signUp\" v-model=\"actionType\">注册</el-button>\n          <el-button  value=\"login\" v-model=\"actionType\">登录</el-button> -->\n      </div>\n      <div class=\"signUp\"  v-if=\"actionType == 'signUp'\" >\n          <div class=\"formRow\"> \n            用户名<input type=\"text\" v-model=\"formData.username\">\n          </div>\n          <div class=\"formRow\">\n            密码<input type=\"password\" v-model=\"formData.password\"\n            @keyup.enter=\"signUp\" >\n          </div>\n          <!-- <div class=\"formRow\">\n            确认密码<input type=\"password\" v-model=\"formData.comfirmPassword\" >\n          </div> -->\n          <div class=\"formActions\">\n            <button value=\"\" @click=\"signUp\">注册</button>\n          </div>\n      </div>\n      <div class=\"login\" v-if=\"actionType == 'login'\">\n          <div class=\"formRow\">\n            用户名<input type=\"text\"  v-model=\"formData.username\">\n          </div>\n          <div class=\"formRow\">\n            密码<input type=\"password\" v-model=\"formData.password\"\n            @keyup.enter=\"login\">\n          </div>\n          <div class=\"formActions\">\n            <button value=\"\" @click=\"login\">登录</button>\n          </div>\n      </div>\n    </section>\n</template>\n\n<script>\nimport AV from 'leancloud-storage'\nexport default {\n    name: 'SignUpOrLogin',\n    data() {\n        return {\n            actionType: 'login',\n            formData: {\n                username: '',\n                password: '',\n                comfirmPassword: '',\n            },\n        }\n    },\n    methods: {\n        signUp() {   //注册 _user\n            this.$emit(\"signUp\",this.formData)\n        },\n        login() {\n            this.$emit(\"login\",this.formData)\n        }\n    }   \n}\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/SignUpOrLogin.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(!_vm.currentUser)?_c('SignUpOrLogin',{on:{\"signUp\":_vm.signUp,\"login\":_vm.login}}):_c('Todo',{attrs:{\"currentUser\":_vm.currentUser},on:{\"logout\":_vm.logout}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-598bb7c5\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-598bb7c5\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport App from './App'\nimport ElementUI from 'element-ui'\nimport AV from 'leancloud-storage'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport './assets/reset.scss'\n\nvar APP_ID = 'TwANvsxCggNKwGykjrmCk8lD-gzGzoHsz';\nvar APP_KEY = '3BRJ6zaoDUTq9b19yEiL41nh';\nAV.init({\n  appId: APP_ID,\n  appKey: APP_KEY\n});\nVue.use(ElementUI);\n\nVue.config.productionTip = false\n\nnew Vue({\n  el: '#app',\n  components: { \n    App,\n  },\n  template: '<App/>',\n})\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}